menu "Storage / SD card"

config SD_AUTOMOUNT
    bool "Automatically mount the SD card at boot"
    default y
    help
        Lorsque cette option est activée, l'application tente de monter la
        carte microSD au démarrage afin de rendre les journaux et profils
        LVGL immédiatement disponibles. Désactiver l'option pour reporter le
        montage à une étape ultérieure de l'initialisation.

config SD_MOUNT_POINT
    string "Mount point for the SD card"
    default "/sdcard"
    help
        Point de montage FAT exposé dans le VFS une fois la carte initialisée.
        Adapter si l'application doit publier le volume sous un répertoire
        différent.

config SD_USE_FALLBACK_GPIO_CS
    bool "Drive SD card CS from an ESP32-S3 GPIO"
    default y
    help
        Active la commande directe de la ligne chip-select microSD par un GPIO
        de l'ESP32-S3. Cette voie est désormais la configuration recommandée :
        le bus I²C du CH422G reste disponible pour le rétroéclairage, VCOM,
        USB_SEL, CAN_SEL, etc., tandis que la microSD évite tout trafic I²C
        dans les contextes ISR.

config SD_FALLBACK_CS_GPIO
    int "GPIO number controlling the SD card CS"
    range 0 48
    default 34
    help
        Numéro de GPIO employé pour piloter la ligne CS du lecteur microSD.
        Sur la Waveshare ESP32-S3 Touch LCD 7B, la broche 34 est accessible sur
        le connecteur d'extension et ne rentre pas en conflit avec le bus RGB.

endmenu

